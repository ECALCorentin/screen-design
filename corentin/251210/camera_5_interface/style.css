:root {
    /* On garde une perspective moyenne pour ne pas trop déformer l'avant-plan */
    --persp: 800px; 
    
    --cam-x: 0px; --cam-y: 0px; --cam-z: 0px;
    --rot-x: 0deg; --rot-y: 0deg;
}

/* ... le reste du body et scene reste pareil ... */

.world {
    position: relative;
    width: 100%;
    height: 100%;
    transform-style: preserve-3d;
    
    /* PIVOT : On recule le point de rotation pour qu'il soit entre les deux images */
    transform-origin: 50% 50% -2000px;

    transform:
        translate3d(var(--cam-x), var(--cam-y), var(--cam-z)) 
        rotateX(var(--rot-x)) 
        rotateY(var(--rot-y));

    will-change: transform;
}

.piece img {
    position: absolute;
    top: 50%; left: 50%;
    /* Centrage crucial car on va beaucoup scaler */
    transform: translate(-50%, -50%); 
    pointer-events: none;
}

/* --- LE FOND --- */
.back {
    /* EXPLICATION MATHÉMATIQUE : */
    /* On pousse à -6000px (très loin) */
    /* Du coup, il faut grossir l'image (scale 10) pour compenser la distance */
    transform: translate(-50%, -50%) translateZ(-6000px) scale(10);
    
    filter: brightness(1) blur(1px); 
    z-index: 1;
}

/* --- L'AVANT-PLAN --- */
.front {
    /* On le tire vers nous (+600px) */
    /* Il va paraître énorme, donc on le réduit un peu (scale 0.7) */
    transform: translate(-50%, -50%) translateZ(600px) scale(0.7);
    
    z-index: 10;
    /* Une ombre portée aide le cerveau à comprendre la distance */
    filter: drop-shadow(0 50px 80px rgba(0,0,0,0.6));
}